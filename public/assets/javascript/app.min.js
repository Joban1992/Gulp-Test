console.log("abc");var sessionService={},userInfo=null;sessionService.getUserInfo=function(){return userInfo||(userInfo=JSON.parse(localStorage.getItem("user"))),userInfo},sessionService.getUserInfoWithKey=function(e){var r=sessionService.getUserInfo();if(r[e])return r[e]},sessionService.saveUserInfo=function(e){localStorage.setItem("user",JSON.stringify(e))},sessionService.deleteSession=function(){userInfo=null,localStorage.clear()},sessionService.getSessionId=function(){return localStorage.getItem("sessionId")},sessionService.setSessionId=function(e){localStorage.setItem("sessionId",e)},sessionService.checkUserSession=function(){var e=sessionService.getUserInfo(),r="",t=r.substring(r.lastIndexOf("/")+1,r.lenght);if(e){if("signin"===t||"signup"===t||"forgotpassword"===t){var o=sessionService.getUserInfoWithKey("role");"admin"===o.toLowerCase()}return!0}return"signin"!==t&&"signup"!==t&&"forgotpassword"!==t&&StateChanger.goTo("signin",{q:"LogoutA"}),!1},function(){"use strict";angular.module("app",[]).factory("CoreHierarchy",["$http","$sce","ServerConfig","LoaderService",function(e,r,t,o){var n=t.serverConfig,s=n.localPath;return{getData:function(){o.showLoader();var r=e.get(s+"CoreHierarchy").success(function(e){return o.hideLoader(),e.data}).error(function(e){o.hideLoader()});return r},putData:function(r,t){o.showLoader();var n=e.put(s+t,r).success(function(e){o.hideLoader()}).error(function(e){return o.hideLoader(),{status:"data get request failed",code:"404"}});return n},postData:function(r,t){o.showLoader();var n=e.post(s+t,r).success(function(e){return o.hideLoader(),e.data}).error(function(e){return o.hideLoader(),{status:"data get request failed",code:"404"}});return n},getRegion:function(){o.showLoader();var r=e.get(s+"region").success(function(e){return o.hideLoader(),e.data}).error(function(e){return o.hideLoader(),{status:"data get request failed",code:"404"}});return r},getReportType:function(r){o.showLoader();var t=e.get(s+"/reportType/region/"+r).success(function(e){return o.hideLoader(),e.data}).error(function(e){return o.hideLoader(),{status:"data get request failed",code:"404"}});return t},getPortfolio:function(r){o.showLoader();var t=e.get(s+"portfolio/reportType/"+r).success(function(e){return o.hideLoader(),e.data}).error(function(e){return o.hideLoader(),{status:"data get request failed",code:"404"}});return t},getComponent:function(){o.showLoader();var r=e.get(s+"CoreHierarchy").success(function(e){return o.hideLoader(),e.data}).error(function(e){return o.hideLoader(),{status:"data get request failed",code:"404"}});return r}}}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm15anMuanMiLCJOZXcuanMiXSwibmFtZXMiOlsiY29uc29sZSIsImxvZyIsInNlc3Npb25TZXJ2aWNlIiwidXNlckluZm8iLCJnZXRVc2VySW5mbyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJnZXRVc2VySW5mb1dpdGhLZXkiLCJrZXkiLCJpbmZvIiwic2F2ZVVzZXJJbmZvIiwiZGF0YSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJkZWxldGVTZXNzaW9uIiwiY2xlYXIiLCJnZXRTZXNzaW9uSWQiLCJzZXRTZXNzaW9uSWQiLCJzZXNzaW9uSWQiLCJjaGVja1VzZXJTZXNzaW9uIiwidXJsIiwiZW5kVXJsIiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJsZW5naHQiLCJyb2xlIiwidG9Mb3dlckNhc2UiLCJTdGF0ZUNoYW5nZXIiLCJnb1RvIiwicSIsImFuZ3VsYXIiLCJtb2R1bGUiLCJmYWN0b3J5IiwiJGh0dHAiLCIkc2NlIiwiU2VydmVyQ29uZmlnIiwiTG9hZGVyU2VydmljZSIsImFwaVBhdGgiLCJzZXJ2ZXJDb25maWciLCJzZXJ2ZXJwYXRoIiwibG9jYWxQYXRoIiwiZ2V0RGF0YSIsInNob3dMb2FkZXIiLCJwcm9taXNlIiwiZ2V0Iiwic3VjY2VzcyIsImhpZGVMb2FkZXIiLCJlcnJvciIsInB1dERhdGEiLCJwdXQiLCJyZXNwb25zZSIsInN0YXR1cyIsImNvZGUiLCJwb3N0RGF0YSIsInBvc3QiLCJnZXRSZWdpb24iLCJnZXRSZXBvcnRUeXBlIiwiaWQiLCJnZXRQb3J0Zm9saW8iLCJnZXRDb21wb25lbnQiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxJQUFBLE1BQ0EsSUFBQUMsbUJBQ0FDLFNBQUEsSUFDQUQsZ0JBQUFFLFlBQUEsV0FJQSxNQUhBRCxZQUNBQSxTQUFBRSxLQUFBQyxNQUFBQyxhQUFBQyxRQUFBLFVBRUFMLFVBR0FELGVBQUFPLG1CQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQVQsZUFBQUUsYUFDQSxJQUFBTyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELElBSUFSLGVBQUFVLGFBQUEsU0FBQUMsR0FDQU4sYUFBQU8sUUFBQSxPQUFBVCxLQUFBVSxVQUFBRixLQUdBWCxlQUFBYyxjQUFBLFdBQ0FiLFNBQUEsS0FDQUksYUFBQVUsU0FHQWYsZUFBQWdCLGFBQUEsV0FDQSxNQUFBWCxjQUFBQyxRQUFBLGNBR0FOLGVBQUFpQixhQUFBLFNBQUFDLEdBQ0FiLGFBQUFPLFFBQUEsWUFBQU0sSUFHQWxCLGVBQUFtQixpQkFBQSxXQUNBLEdBQUFWLEdBQUFULGVBQUFFLGNBQ0FrQixFQUFBLEdBQ0FDLEVBQUFELEVBQUFFLFVBQUFGLEVBQUFHLFlBQUEsS0FBQSxFQUFBSCxFQUFBSSxPQUNBLElBQUFmLEVBS0EsQ0FDQSxHQUFBLFdBQUFZLEdBQUEsV0FBQUEsR0FBQSxtQkFBQUEsRUFBQSxDQUNBLEdBQUFJLEdBQUF6QixlQUFBTyxtQkFBQSxPQUNBLFdBQUFrQixFQUFBQyxjQU1BLE9BQUEsRUFWQSxNQUhBLFdBQUFMLEdBQUEsV0FBQUEsR0FBQSxtQkFBQUEsR0FDQU0sYUFBQUMsS0FBQSxVQUFBQyxFQUFBLGFBRUEsR0MxQ0EsV0FDQSxZQUVBQyxTQUFBQyxPQUFBLFVBQ0FDLFFBQUEsaUJBQUEsUUFBQSxPQUFBLGVBQUEsZ0JBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FFQSxHQUFBQyxHQUFBRixFQUFBRyxhQUVBQyxFQUFBRixFQUFBRyxTQUlBLFFBR0FDLFFBQUEsV0FDQUwsRUFBQU0sWUFDQSxJQUFBQyxHQUFBVixFQUFBVyxJQUFBTCxFQUFBLGlCQUNBTSxRQUFBLFNBQUFsQyxHQUVBLE1BREF5QixHQUFBVSxhQUNBbkMsRUFBQUEsT0FDQW9DLE1BQUEsU0FBQXBDLEdBQ0F5QixFQUFBVSxjQUlBLE9BQUFILElBRUFLLFFBQUEsU0FBQXJDLEVBQUFTLEdBQ0FnQixFQUFBTSxZQUNBLElBQUFDLEdBQUFWLEVBQUFnQixJQUFBVixFQUFBbkIsRUFBQVQsR0FDQWtDLFFBQUEsU0FBQUssR0FDQWQsRUFBQVUsZUFFQUMsTUFBQSxTQUFBRyxHQUVBLE1BREFkLEdBQUFVLGNBRUFLLE9BQUEsMEJBQ0FDLEtBQUEsUUFHQSxPQUFBVCxJQUVBVSxTQUFBLFNBQUExQyxFQUFBUyxHQUNBZ0IsRUFBQU0sWUFDQSxJQUFBQyxHQUFBVixFQUFBcUIsS0FBQWYsRUFBQW5CLEVBQUFULEdBQ0FrQyxRQUFBLFNBQUFsQyxHQUVBLE1BREF5QixHQUFBVSxhQUNBbkMsRUFBQUEsT0FDQW9DLE1BQUEsU0FBQXBDLEdBRUEsTUFEQXlCLEdBQUFVLGNBRUFLLE9BQUEsMEJBQ0FDLEtBQUEsUUFJQSxPQUFBVCxJQUdBWSxVQUFBLFdBQ0FuQixFQUFBTSxZQUNBLElBQUFDLEdBQUFWLEVBQUFXLElBQUFMLEVBQUEsVUFDQU0sUUFBQSxTQUFBbEMsR0FFQSxNQURBeUIsR0FBQVUsYUFDQW5DLEVBQUFBLE9BQ0FvQyxNQUFBLFNBQUFwQyxHQUVBLE1BREF5QixHQUFBVSxjQUVBSyxPQUFBLDBCQUNBQyxLQUFBLFFBSUEsT0FBQVQsSUFFQWEsY0FBQSxTQUFBQyxHQUNBckIsRUFBQU0sWUFDQSxJQUFBQyxHQUFBVixFQUFBVyxJQUFBTCxFQUFBLHNCQUFBa0IsR0FDQVosUUFBQSxTQUFBbEMsR0FFQSxNQURBeUIsR0FBQVUsYUFDQW5DLEVBQUFBLE9BQ0FvQyxNQUFBLFNBQUFwQyxHQUVBLE1BREF5QixHQUFBVSxjQUVBSyxPQUFBLDBCQUNBQyxLQUFBLFFBSUEsT0FBQVQsSUFFQWUsYUFBQSxTQUFBRCxHQUNBckIsRUFBQU0sWUFDQSxJQUFBQyxHQUFBVixFQUFBVyxJQUFBTCxFQUFBLHdCQUFBa0IsR0FDQVosUUFBQSxTQUFBbEMsR0FFQSxNQURBeUIsR0FBQVUsYUFDQW5DLEVBQUFBLE9BQ0FvQyxNQUFBLFNBQUFwQyxHQUVBLE1BREF5QixHQUFBVSxjQUVBSyxPQUFBLDBCQUNBQyxLQUFBLFFBSUEsT0FBQVQsSUFFQWdCLGFBQUEsV0FDQXZCLEVBQUFNLFlBQ0EsSUFBQUMsR0FBQVYsRUFBQVcsSUFBQUwsRUFBQSxpQkFDQU0sUUFBQSxTQUFBbEMsR0FFQSxNQURBeUIsR0FBQVUsYUFDQW5DLEVBQUFBLE9BQ0FvQyxNQUFBLFNBQUFwQyxHQUVBLE1BREF5QixHQUFBVSxjQUVBSyxPQUFBLDBCQUNBQyxLQUFBLFFBSUEsT0FBQVQiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKCdhYmMnKTtcclxudmFyIHNlc3Npb25TZXJ2aWNlID0ge307XHJcbiAgICAgICAgICAgIHZhciB1c2VySW5mbyA9IG51bGw7XHJcbiAgICAgICAgICAgIHNlc3Npb25TZXJ2aWNlLmdldFVzZXJJbmZvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VySW5mbykge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJcIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJJbmZvO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgc2Vzc2lvblNlcnZpY2UuZ2V0VXNlckluZm9XaXRoS2V5ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZm8gPSBzZXNzaW9uU2VydmljZS5nZXRVc2VySW5mbygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZm9ba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmZvW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBzZXNzaW9uU2VydmljZS5zYXZlVXNlckluZm8gPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyXCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHNlc3Npb25TZXJ2aWNlLmRlbGV0ZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VySW5mbyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHNlc3Npb25TZXJ2aWNlLmdldFNlc3Npb25JZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNlc3Npb25JZFwiKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHNlc3Npb25TZXJ2aWNlLnNldFNlc3Npb25JZCA9IGZ1bmN0aW9uIChzZXNzaW9uSWQpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2Vzc2lvbklkXCIsIHNlc3Npb25JZCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBzZXNzaW9uU2VydmljZS5jaGVja1VzZXJTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZm8gPSBzZXNzaW9uU2VydmljZS5nZXRVc2VySW5mbygpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZFVybCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcvJykgKyAxLCB1cmwubGVuZ2h0KTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mbykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRVcmwgIT09IFwic2lnbmluXCIgJiYgZW5kVXJsICE9PSBcInNpZ251cFwiICYmIGVuZFVybCAhPT0gXCJmb3Jnb3RwYXNzd29yZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlQ2hhbmdlci5nb1RvKCdzaWduaW4nLCB7IHE6ICdMb2dvdXRBJyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kVXJsID09PSBcInNpZ25pblwiIHx8IGVuZFVybCA9PT0gXCJzaWdudXBcIiB8fCBlbmRVcmwgPT09IFwiZm9yZ290cGFzc3dvcmRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm9sZSA9IHNlc3Npb25TZXJ2aWNlLmdldFVzZXJJbmZvV2l0aEtleSgncm9sZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocm9sZS50b0xvd2VyQ2FzZSgpID09PSBcImFkbWluXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnLFtdKVxyXG4gICAgICAuZmFjdG9yeSgnQ29yZUhpZXJhcmNoeScsIFsnJGh0dHAnLCAnJHNjZScsICdTZXJ2ZXJDb25maWcnLCAnTG9hZGVyU2VydmljZScsZnVuY3Rpb24gQ29yZUhpZXJhcmNoeUZhY3RvcnkoJGh0dHAsICRzY2UsIFNlcnZlckNvbmZpZywgTG9hZGVyU2VydmljZSkge1xyXG4gICAgICAgICAvLyBjb25zb2xlLmxvZyhTZXJ2ZXJDb25maWcpXHJcbiAgICAgICAgICB2YXIgYXBpUGF0aCA9IFNlcnZlckNvbmZpZy5zZXJ2ZXJDb25maWc7XHJcbiAgICAgICAgICAvL3ZhciBzZXJ2ZXJwYXRoID0gYXBpUGF0aC5zZXJ2ZXJQYXRoO1xyXG4gICAgICAgICAgdmFyIHNlcnZlcnBhdGggPSBhcGlQYXRoLmxvY2FsUGF0aDtcclxuICAgICAgICAgIHZhciBiYXNlbEpTT05EYXRhID0ge30sXHJcbiAgICAgICAgICAgICAgbWFya2VkVXBEYXRhLFxyXG4gICAgICAgICAgICAgIHNjb3BlO1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gRnVuY3Rpb24gY2FsbCB0byBtYWtlIGEgY2FsbCB0byB0aGUgRGF0YSBBUEkgb3IgV2ViIEFQSSBmb3IgZ2V0dGluZyBkYXRhIGNhbGxcclxuICAgICAgICAgICAgICBnZXREYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgIExvYWRlclNlcnZpY2Uuc2hvd0xvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9ICRodHRwLmdldChzZXJ2ZXJwYXRoICsgJ0NvcmVIaWVyYXJjaHknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGVyU2VydmljZS5oaWRlTG9hZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGVyU2VydmljZS5oaWRlTG9hZGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgcHV0RGF0YTogZnVuY3Rpb24gKGRhdGEsIHVybCkge1xyXG4gICAgICAgICAgICAgICAgICBMb2FkZXJTZXJ2aWNlLnNob3dMb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSAkaHR0cC5wdXQoc2VydmVycGF0aCArIHVybCwgZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGVyU2VydmljZS5oaWRlTG9hZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvYWRlclNlcnZpY2UuaGlkZUxvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdGF0dXNcIjogXCJkYXRhIGdldCByZXF1ZXN0IGZhaWxlZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2RlXCI6IFwiNDA0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBwb3N0RGF0YTogZnVuY3Rpb24gKGRhdGEsIHVybCkge1xyXG4gICAgICAgICAgICAgICAgICBMb2FkZXJTZXJ2aWNlLnNob3dMb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSAkaHR0cC5wb3N0KHNlcnZlcnBhdGggKyB1cmwsIGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkZXJTZXJ2aWNlLmhpZGVMb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkZXJTZXJ2aWNlLmhpZGVMb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdGF0dXNcIjogXCJkYXRhIGdldCByZXF1ZXN0IGZhaWxlZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29kZVwiOiBcIjQwNFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG5cclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGdldFJlZ2lvbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICBMb2FkZXJTZXJ2aWNlLnNob3dMb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSAkaHR0cC5nZXQoc2VydmVycGF0aCArICdyZWdpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGVyU2VydmljZS5oaWRlTG9hZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGVyU2VydmljZS5oaWRlTG9hZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RhdHVzXCI6IFwiZGF0YSBnZXQgcmVxdWVzdCBmYWlsZWRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvZGVcIjogXCI0MDRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGdldFJlcG9ydFR5cGU6IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICAgICAgICBMb2FkZXJTZXJ2aWNlLnNob3dMb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSAkaHR0cC5nZXQoc2VydmVycGF0aCArICcvcmVwb3J0VHlwZS9yZWdpb24vJyArIGlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGVyU2VydmljZS5oaWRlTG9hZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGVyU2VydmljZS5oaWRlTG9hZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RhdHVzXCI6IFwiZGF0YSBnZXQgcmVxdWVzdCBmYWlsZWRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvZGVcIjogXCI0MDRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGdldFBvcnRmb2xpbzogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgIExvYWRlclNlcnZpY2Uuc2hvd0xvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9ICRodHRwLmdldChzZXJ2ZXJwYXRoICsgJ3BvcnRmb2xpby9yZXBvcnRUeXBlLycgKyBpZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvYWRlclNlcnZpY2UuaGlkZUxvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvYWRlclNlcnZpY2UuaGlkZUxvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0YXR1c1wiOiBcImRhdGEgZ2V0IHJlcXVlc3QgZmFpbGVkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2RlXCI6IFwiNDA0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBnZXRDb21wb25lbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgTG9hZGVyU2VydmljZS5zaG93TG9hZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gJGh0dHAuZ2V0KHNlcnZlcnBhdGggKyAnQ29yZUhpZXJhcmNoeScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkZXJTZXJ2aWNlLmhpZGVMb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkZXJTZXJ2aWNlLmhpZGVMb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdGF0dXNcIjogXCJkYXRhIGdldCByZXF1ZXN0IGZhaWxlZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29kZVwiOiBcIjQwNFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB9O1xyXG4gICAgICB9XSk7XHJcbn0pKCk7XHJcbiJdfQ==
